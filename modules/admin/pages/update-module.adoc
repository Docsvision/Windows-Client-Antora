= Обновление модуля

include::webclient:ROOT:partial$excerpts.adoc[tags=what-changed]

[#conditions]
== Условия обновления

* {wincl} может быть установлен только на ОС Windows.
* Если к новой версии модуля приложена инструкция по обновлению, следуйте ей.
* Если комплект обновления включает обновление для модуля {pl}, перейдите к инструкции, приведенной в xref:6.1@platform:admin:update-module.adoc[документации модуля] {pl}.
* Установка новой версии должна выполняться в нерабочее время.
* База данных {dv} должна быть переведена на работу с расширенными метаданными.
* При обновлении версия клиентского дистрибутива должна быть равной версии серверного дистрибутива.

[#update]
== Порядок обновления

Если к новой версии модуля прилагается отдельная инструкция по обновлению, следуйте ей.

.Чтобы установить новую версию модуля:
. Создайте резервную копию БД.
. Установите новую версию модуля из пакета установки `{dv} WindowsClient server.msi` без удаления существующей версии.
+
[NOTE]
====
При обновлении используется каталог и область установки текущей версии.
====
+
.Мастер установки модуля
image::install-update-db-flag.png[Мастер установки модуля]
+
. Запустите программу _{cns}_. При открытии консоли появится диалог с предложением продолжить настройку, нажмите *Нет* и перейдите в раздел _Базы данных_.
+
****
Пользователь, от имени которого запускается _{cns}_:

* Должен являться администратором {dv} -- быть добавленным в группу *{dv-admins-serv}* в конфигурационном файле модуля _{pl}_, см. раздел "xref:6.1@platform:admin:config-platform.adoc[]".
* Входить в группы {dv} в Справочнике сотрудников:
+
- _{dv-dm-admins-dir}_.
- _{dv-ad-admins-dir}_.
- _{dv-sys-wf-dir}_.
****
+
. Обновите существующую БД по инструкции, приведённой в документации модуля _{pl}_, раздел "xref:6.1@platform:console:db-update.adoc[]".
. После обновления БД перезапустите *{sss}* и все сервисы {dv} на Linux.
. Установите новую версию модуля *без* обновления БД:
// (флаг `*Обновить базу данных*` должен быть снят):
+
* На оставшихся узлах кластера {dv}.
* На сервере СУБП, {wc}а и других модулей, использующих компоненты модуля {wincl}.
+
. Клиентская часть системы обновится автоматически при открытии {wincl}а.
+
Самостоятельно обновить {wincl} можно из пакета установки `{dv} WindowsClient.msi` или с сайта сервера {dv}.
