= Обновление модуля

include::webclient:ROOT:partial$excerpts.adoc[tags=what-changed]

[#conditions]
== Условия обновления

* Если к новой версии модуля приложена инструкция по обновлению, следуйте ей.
* Если комплект обновления включает обновление для модуля {pl}, перейдите к инструкции, приведенной в xref:platform:admin:update-module.adoc[документации модуля] {pl}.
* Установка новой версии должна выполняться в нерабочее время.
* База данных {dv} должна быть переведена на работу с расширенными метаданными.
* При обновлении версия клиентского дистрибутива должна быть равной версии серверного дистрибутива.

[#update]
== Порядок обновления

.Чтобы установить новую версию модуля:
. Создайте резервную копию БД.
. Остановите сервисы {dv} (в IIS и службах Windows) на серверах {dv} и СУБП.
. Установите новую версию модуля из пакета установки `{dv} 5 WindowsClient server.msi` без удаления существующей версии.
+
[NOTE]
====
При обновлении используется каталог и область установки текущей версии.
====
+
. На последней странице мастера установки установите флаг `*Обновить базу данных*` и нажмите *Готово*.
+
.Мастер установки модуля
image::update-db.png[Мастер установки модуля]
+
. Выберите базы данных, в которых будут обновлены библиотеки карточек модуля, и нажмите *Ок*.
+
.Список баз данных для обновления
image::update-db-list.png[Список баз данных для обновления]
+
****
Будет запущен процесс обновления БД.

.При завершении обновления:
* Бдет показано окно с результатом обновления;
* Сервисы {dv} будут перезапущены.
****
+
. Установите новую версию модуля *без* обновления БД (флаг `*Обновить базу данных*` должен быть снят):
+
* На оставшихся узлах кластера {dv}.
* На сервере СУБП, {wc}а и других модулей, использующих компоненты модуля {wincl}.
+
. Клиентская часть модуля обновится автоматически при открытии {wincl}а.
+
Самостоятельно обновить {wincl} можно из пакета установки `{dv} 5 WindowsClient.msi` или с сайта сервера {dv}.
