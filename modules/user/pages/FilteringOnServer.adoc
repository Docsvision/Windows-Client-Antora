= Фильтрация по всем страницам представления

[NOTE]
====
[.note__title]#Важное замечание:# При работе с БД PostgreSQL функция фильтрации будет недоступна, если установлена версия модуля {pl} ниже 5.5.3.
====

Данный тип фильтрации является фильтрацией данных по всем страницам представления папки. Фильтрация осуществляется на сервере {dv}.

*Обратите внимание*: фильтрация по всем страницам представления недоступна для папок с представлением "Дайджест", а также системных папок: "Конструкторы и справочники", "Папки", "Карточки", "Корзина". В этом случае, используйте xref:FilteringOnClient.adoc[фильтрацию по текущей странице] или выберите другое представление (для обычных папок).

Для использования данного типа фильтрации также есть другие ограничения, которые указаны далее по тексту.

Чтобы отфильтровать данные, выполните следующие действия:

. [.ph .cmd]#Нажмите на кнопку настройки фильтра image:img/Buttons/openServerFilter.png[image], расположенную на панели инструментов представления. При этом кнопка настройки фильтра изменит вид на image:img/Buttons/closeServerFilter.png[image], справа от которой будут показаны инструменты для настройки фильтра.#
+
image::img/openServerFilter.png[[.fig--title-label]##Рис. 1. ##Кнопка настройки фильтра на панели инструментов представления]
. [.ph .cmd]#Настройте фильтр с помощью инструментов настройки фильтра.#
+
image::img/serverFilterControlPanel.png[[.fig--title-label]##Рис. 2. ##Инструменты настройки фильтра]
[loweralpha]
.. [.ph .cmd]#В первом поле выберите колонку представления, для которой настраивается фильтр.#
+
Фильтр не может быть применен к колонкам, значение которых является вычисляемым -- такие колонки в списке не отображаются.
.. [.ph .cmd]#Во втором поле введите значение для условия фильтрации по выбранному столбцу.#
+
Для колонки, содержащей строковые значения или идентификаторы, значение для условия вводится в строковом виде. Для колонки, содержащей значение типа Дата/время, значение для условия может быть введено в виде строки или выбрано с помощью инструмента "Календарь". Для колонки, содержащей элемент "Да/нет", значение для условия выбирается из списка.
+
Результатом фильтрации станет набор строк представления, у которых в выбранной колонке:

* для строковых значений -- содержится указанный текст;
* для значений "Дата/время" -- дата равна указанной дате (время не учитывается);
* для элементов "Да/нет" -- значение равно выбранному в списке значению.
.. [.ph .cmd]#Чтобы добавить дополнительное условие для фильтра, нажмите кнопку image:img/Buttons/addNew.png[image] и настройте условие. При этом ранее настраиваемое условие будет добавлено в список условий фильтра.#
+
image::img/serverFiltersWithConditions.png[[.fig--title-label]##Рис. 3. ##Настройки фильтра со списком условий]
+
Для одной колонки может быть настроено несколько условий -- данные условия применяются по правилу "ИЛИ", т.е. в результатах фильтрации будут записи подходящие под первое, второе или третье (и т.д.) условие. Условия настроенные для разных колонок применяются по правилу "И", т.е. результатах фильтрации будут записи подходящие под первое, второе и третье (и т.д.) условия.
.. [.ph .cmd]#Чтобы изменить условие фильтра, кликните по нему в списке условий. Условие будет удалено из списка и станет доступным для редактирования.#
.. [.ph .cmd]#Чтобы удалить условие из фильтра, нажмите на "[.ph .uicontrol]*x*" в блоке условия в списке условий.#
.. [.ph .cmd]#Чтобы удалить все условия фильтра, нажмите на image:img/Buttons/clearServerFilter.png[image].#
. [.ph .cmd]#Нажмите image:img/Buttons/applyServerFilter.png[image], чтобы применить настроенный фильтр.#
+
Если инструменты настройки фильтра содержат не добавленное условие, оно будет добавлено в список условий фильтра автоматически. В строке со списком условий фильтра будет скрыт флаг "[.ph .uicontrol]***", указывающий на то, что данные условия фильтра еще не применялись.
+
В представлении папки будут показаны карточки, соответствующие условиям фильтра.
. [.ph .cmd]#Чтобы закрыть панель инструментов фильтра нажмите кнопку image:img/Buttons/closeServerFilter.png[image].#

Настроенные условия фильтра сохраняются для данной папки при переходе к другим папкам и изменении представления. При перезапуске {wincl}а, условия фильтра будут сброшены.
