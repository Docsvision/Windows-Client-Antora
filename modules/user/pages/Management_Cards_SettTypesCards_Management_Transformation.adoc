= Управление преобразованиями

Управление преобразованиями карточки производится на вкладке *Преобразование* окна свойств *типа* карточки при помощи кнопок, расположенных справа от поля, содержащего название и тип преобразований.

== Создание преобразования

Для создания преобразования выполните следующие действия:

. Откройте окно свойств типа карточки и перейдите на вкладку *Преобразование*.
. Выделите в списке поля этого окна преобразование, свойства которого требуется изменить.
. Нажмите кнопку *Создать*. При этом будет открыто диалоговое окно *Свойства преобразования*.
+
image::Properties_of_Type_Card_Transformation_Properties.png[Свойства преобразования карточки]
. В полях окна *Свойства преобразования* определите параметры преобразования:
* В поле *Название* введите название преобразования. Если окно открывается для добавления в список нового пользовательского преобразования, оно содержит присваиваемое по умолчанию название `Новое преобразование`.
* В поле *Тип преобразования* выберите один из трех возможных типов преобразований: `XSLT`, `InfoPath` и `Пользовательское`.
* В поле *Тип содержимого* отображается/выбирается тип данных, к которым может быть применено преобразование выбранного типа. Набор возможных преобразований описывается в таблице *Типы преобразований и соответствующие им типы содержимого*.
+
.Типы преобразований и соответствующие им типы содержимого
[cols=",",options="header"]
|===
|Тип преобразования |Тип содержимого
|*XSLT* — преобразование, результат которого получается применением преобразования к XML данным карточки при помощи стандартного XML-парсера; XSLT-преобразование выполняется платформой автоматически |XML
|*InfoPath* — форма InfoPath, которая активируется для XML карточки; выполнение InfoPath-преобразования и отображение формы выполняет Microsoft Infopath |Бинарные данные
|*Custom* — пользовательский тип преобразования, определяемый разработчиком карточки; в качестве преобразования может быть указан любой текст или поток байтов; вызов и применение такого преобразования выполняется разработчиком карточки в ее коде |Текст XML Бинарные данные
|===
. Выберите в поле *Данные преобразования* файл, содержащий заранее подготовленное преобразование.
. Установите флаг *Преобразование по умолчанию*, если предполагается сделать новый шаблон печати основным и выбираемым системой по умолчанию при вызове функции печати. В общем списке название преобразования по умолчанию выделяется жирным шрифтом.

== Изменение свойств преобразования

Для изменения свойств преобразования выполните следующие действия:

. Откройте окно свойств типа карточки и перейдите на вкладку *Преобразование*.
. Выделите в списке поля этого окна преобразование, свойства которого требуется изменить.
. Нажмите кнопку *Свойства*. При этом будет открыто диалоговое окно *Свойства преобразования*.
. Измените свойства преобразования так, как это описано в пункте *Создание преобразования*.

== Удаление преобразования

Для удаления преобразования из списка преобразований карточек данного типа выполните следующие действия:

. Откройте окно свойств типа карточки и перейдите на вкладку *Преобразование*.
. Выделите в списке поля этого окна преобразование, которое требуется удалить.
. Нажмите кнопку *Удалить*.

[NOTE]
====
Преобразование будет удалено из списка без дополнительного предупреждения.
====

== Экспорт преобразования

Для копирования преобразования из системы {dv} в xslt-файл файловой системы (например, для последующей коррекции вручную в целях добавления в список пользовательского преобразования), выполните следующие действия:

. Откройте окно свойств типа карточки и перейдите на вкладку *Преобразование*.
. Выделите в списке поля этого окна преобразование, предназначенное для экспорта.
. Нажмите кнопку *Экспорт*. При этом будет открыто диалоговое окно *Сохранение*.
. В окне *Сохранение* выберите файл для экспорта и нажмите кнопку *Сохранить*.
