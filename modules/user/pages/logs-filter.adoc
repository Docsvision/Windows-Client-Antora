= Фильтрация данных журнала

Данные каждого журнала РМА могут быть отфильтрованы по определённым критериям или любой комбинации этих критериев. Критерии фильтрации данных журналов различны и зависят от типа фиксируемых в журнале сообщений.

[NOTE]
====
Операции внесения сообщений в журнал (протоколирования) и фильтрации данных не зависят друг от друга.

Если сообщения каких-то типов не протоколировались в течение интересующего периода времени, то и получить их при фильтрации нельзя.

Настройка протоколирования данных журнала выполняется в справочнике _Системные настройки_ в ветке _Настройки журнала_.
====

.Чтобы настроить фильтрацию каждого из журналов:
. Откройте окно журнала сообщений.
+
.Окно журнала сообщений {wincl}а
image::log-window.png[Окно журнала сообщений {wincl}а]
+
. Нажмите кнопку *Настройки журнала* -- image:buttons/filter-settings.png[Планшет с аглочками].
+
Будет открыто _Настройка фильтра сообщений_.
+
.Подробная информация о сообщении журнала
image::log-config.png[Подробная информация о сообщении журнала]
+
При необходимости данные журнала могут быть отфильтрованы по перечисленным ниже критериям или любой комбинации указанных критериев.
+
. В окне _Настройка фильтра сообщений_ укажите _Типы событий_, данные о которых будут выведены на экран, установив флаги:
+
* `*Информация*` -- данный тип сообщения зарезервирован для будущего использования.
* `*Предупреждение*` -- данный тип сообщения зарезервирован для будущего использования.
* `*Ошибка*` -- сообщения об ошибках, возникающих при взаимодействии пользователей с системой.
* `*Аудит*` -- сообщения обо всех видах операций, выполняемых пользователями над элементами системы.
+
. Если требуется отфильтровать действия, совершенные конкретным пользователем, укажите его учетную запись в поле _Пользователь_ с помощью кнопки image:admin:buttons/three-dots.png[Три точки].
. Укажите промежуток времени, в течение которого была выполнена интересующая операция.
+
Выбор интервала производится с помощью кнопки image:admin:buttons/three-dots.png[Три точки] в поле _Диапазон дат_.
+
. Укажите интересующие операции, выполненные пользователем.
+
Выбор операций производится в окне, открывающемся при нажатии кнопки image:admin:buttons/three-dots.png[Три точки] в поле _Операции_.
+
Список фильтруемых операций для каждого журнала свой.
+
. Выберите _Имя компьютера_, с которого осуществлялся доступ пользователя к системе.
. Выберите _Имя ресурса_, с которым связано сообщение.
. С помощью счетчика _Макс. сообщений_ укажите число сообщений, которые будут отображаться в журнале.
. В качестве дополнительных критериев фильтрации для некоторых операций можно указать:
+
* `*Тип карточки*` -- типы карточек, операции над которыми следует вывести на экран.
* `*Тип секции*` -- типы секций карточек, операции над которыми следует отфильтровать.
* `*Карточка*` -- конкретные карточки, операции над которыми следует отфильтровать.
+
. Указав условия фильтрации журнала, нажмите кнопку *OK*, чтобы получить отфильтрованные сообщения.

[#security]
== Фильтрация сообщений "Журнала безопасности"

Если фильтруются сообщения журнала безопасности, то можно вывести сообщения о следующих операциях:

* `*Вход в систему*`.
* `*Выход из системы*`.
* `*Проверка прав*`. Когда установлен этот флаг, на экран будут выведены сообщения о проверке прав на объекты системы, для которых это предусмотрено. Настроить проверку прав доступа можно на вкладке _Аудит_ в xref:security-permissions.adoc[настройках безопасности] объекта.
+
Настройка доступна пользователям, входящим в группу *{dv-sec-admins-serv}* на сервере {dv} или аналогичной в справочнике сотрудника. Открыть вкладку _Аудит_ можно, выбрав menu:Свойства объекта[Безопасность > Дополнительно].
+
* *Принудительное закрытие сессии*  -- администратором из РМА или _Консоли настройки {dv}_.

[#application]
== Фильтрация сообщений "Журнала приложений"

Если фильтруются сообщения журнала приложений, то стандартно можно вывести сообщения о следующих операциях:

* Системные карточки:
** Открытие карточки.
* {bo}:
** Сотрудник заблокирован.
** Просмотр истории.
** Создание карточки.
** Закрытие карточки.
** Редактирование.
** Сохранение карточки.
** Просмотр ссылки.
** Остановка бизнес-процесса.
** Добавление основного файла.
** Чтение основного файла.
** Редактирование основного файла.
** Длительная блокировка основного файла.
** Удаление основного файла.
** Создание новой версии основного файла.
** Сохранение изменений в текущую версию основного файла.
** Смена текущей версии основного файла.
** Добавление комментария к версии основного файла.
** Удаление старой версии основного файла.
** Добавление дополнительного файла.
** Чтение дополнительного файла.
** Удаление дополнительного файла.
** Подписание документа.
** Отправка документа по электронной почте.
** Экспорт документа.
** Печать документа.
** Назначение категории.
** Удаление категории.
** Синхронизация свойств из файла.
** Синхронизация свойств в файл.
** Снятие блокировки файла.
** Отмена блокировки файла.
** Редактирование комментария к файлу.
** Удаление комментария к файлу.
** Отправить.
** Вернуть на подготовку.
** Отозвать.
** Отклонить.
** Отложить.
** В работу.
** Делегировать.
** Отменить делегирование.
** Вернуть в "Не начато".
** Завершить.
** Прекратить исполнение.
** Изменение срока исполнения.
** На доработку.
** Принять.
** Редактирование автора задания.
** Редактирование контролера задания.
** Редактирование содержания задания.
** Выбор исполнителя задания.
** Редактирование автора группы заданий.
** Редактирование контролера группы заданий.
** Редактирование содержания группы заданий.
** Выбор исполнителя группы заданий.
** Изменение текущего исполнителя.
** Установить важность.
** Ввод плановых сроков.
** Ввод плановых сроков группы заданий.
** Редактирование напоминаний.
** Редактирование параметров контроля.
** Редактирование фактических параметров исполнения.
** Добавление комментария.
** Изменение/удаление любого комментария.
** Изменение/удаление только собственного комментария.
** Добавление основного документа.
** Удаление основного документа.
** Добавление дополнения.
** Удаление дополнения.
** Добавление отчета.
** Удаление отчета.
** Создание подчиненного задания.
** Копирование подчиненного задания.
** Удаление подчиненного задания.
** Просмотр комментария задания.
** Просмотр всех комментариев задания.
* Не определено.

Другие операции для протоколирования и последующей фильтрации определяются при разработке приложения.

[#system]
== Фильтрация сообщений "Системного журнала"

Если фильтруются сообщения системного журнала, то можно вывести сообщения о следующих операциях:

* *Операции с карточками*:
** Создание карточки.
** Установка признака удаления.
** Установка признака прочтения.
** Удаление карточки.
** Копирование карточки.
** Изменение прав доступа к карточке.
** Добавление карточки к теме обработки.
** Архивирование карточки.
** Разархивирование карточки.
** Обновление карточки.
* *Операции со строками*:
** Добавление строки.
** Обновление строки.
** Удаление строки.
** Перемещение строки.
** Копирование строки.
** Изменение прав доступа к строке.
* *Безопасность*:
** Изменение прав доступа к строке.
** Изменение прав доступа к карточке.
** Изменение прав доступа к файлу.
** Изменение прав доступа к элементу.
** Изменение прав доступа к отчету.
** Изменение прав доступа к типам карточек.
* *Операции с файлами*:
** Создание файла.
** Открытие файла.
** Запись в файл.
** Закрытие файла.
** Удаление файла.
** Изменение прав доступа к файлу.
** Копирование файла.
** Перезапись файла.
** Выгрузка файла из базы данных.
** Загрузка файла в базу данных.
** Архивирование файла.
** Разархивирование файла.
* *Операции с нумераторами*:
** Изменение левой границы нумератора.
** Изменение правой границы нумератора.
** Выделение номера.
** Выделение диапазона номеров.
** Освобождение номера.
** Освобождение диапазона номеров.
* *Операции с ярлыками*:
** Создание ярлыка.
** Удаление ярлыка.
** Перемещение ярлыка.
** Копирование ярлыка.

