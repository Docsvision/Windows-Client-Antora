= Шаблон карточки

_Шаблон карточки_ -- это образец карточки определённого типа, в котором заполнена часть полей. Шаблон предназначен для создания большого количества карточек, содержащих сходную информацию, и позволяет сократить время, затрачиваемое на их создание. Шаблоны можно создавать практически для всех типов карточек.

Карточка, создаваемую при помощи шаблона, называется _экземпляром_. Значения полей экземпляра совпадают со значениями заполненных полей шаблона. Кроме того, экземпляр содержит копии файлов, прикрепленных к шаблону карточки.

[NOTE]
====
Значения отдельных полей не могут передаваться из шаблона в экземпляр: это поля, значения которых индивидуальны для каждой карточки, например, номера документов карточек документов приложения _{dm}_.
====

[#create]
== Создание шаблона карточки

.Чтобы создать шаблон карточки, выполните следующие действия:
. Нажмите правой кнопкой мыши по строке с названием карточки, по которой необходимо создать шаблон.
. Выберите команду контекстного меню _Конвертировать в шаблон_.
+
Иконка карточки будет помечена особым значком {dv} в правом верхнем углу: image:buttons/card-template.png[Шаблонная карточка].

[NOTE]
====
Если на панели инструментов карточки присутствует кнопка *Конвертировать в шаблон*, то с её помощью можно создать шаблон из открытой карточки.
====

[#properties]
== Указать папку для создания экземпляров

Окно _Свойства_ шаблона карточки содержит дополнительную вкладку _Шаблоны_, на которой можно указать папку для создания экземпляров карточки по данному шаблону.

.Вкладка "Шаблоны" окна свойств карточки
image::card-properties-template.png[Вкладка "Шаблоны" окна свойств карточки]

.Чтобы настроить размещение экземпляра созданной по шаблону карточки в определённой папке:
. Выберите из контекстного меню карточки команду _Свойства_.
+
Будет открыто диалоговое окно _Свойства карточки_.
+
. Перейдите на вкладку _Шаблоны_ и определите настройки папки, в которой по умолчанию будут размещаться экземпляры:
+
* В поле _По умолчанию создавать карточки в данной папке_ укажите папку для размещения экземпляров карточки, созданных по данному шаблону.
+
Выбор папки производится в диалоговом окне _Выбор папки_, раскрывающемся при нажатии кнопки image:admin:buttons/three-dots.png[Три точки]. Очистить поле можно нажатием кнопки image:buttons/x-black-rma.png[Чёрный крестик].
+
* Если флаг `*Запрашивать папку только при нажатой клавише Shift*` установлен, экземпляр карточки будет создаваться в обозначенной папке при двойном щелчке мышью по карточке шаблона. +
Система будет запрашивать подтверждение выбора папки только в случае нажатой клавиши kbd:[Shift].
+
* Установите флаг `*Применить эти настройки для всех пользователей*`, чтобы задать общую для всех пользователей системы папку, в которой будут создаваться экземпляры карточки по данному шаблону.
+
Флаг доступен только пользователям, включенным в группу *{dv-admins-serv}* на сервере {dv}.
+
[NOTE]
====
Если пользователь задал собственные свойства шаблона карточки до того, как администратор установил флаг `*Применить эти настройки для всех пользователей*`, общие настройки к созданным им экземплярам карточки применены не будут.

Пользователь, обладающий достаточными правами, может изменить настройки свойств шаблона карточки, но эти настройки будут применяться только при создании экземпляров карточки им самим.
====
+
Если установлен флаг `*Запрашивать папку только при нажатой клавише Shift*`, но поле _По умолчанию создавать карточки в данной папке_ не заполнено, экземпляр карточки будет размещен в той же папке, в которой находится шаблон.

[#edit]
== Редактирование шаблона

.Чтобы отредактировать шаблон карточки:
. Откройте шаблон карточки для редактирования одним из способов:
+
* Нажмите клавишу kbd:[Alt] и, удерживая ее, дважды нажмите левой кнопкой мыши в строке с названием нужного шаблона.
* Выделите строку нужного шаблона и выберите в её контекстном меню команду _Открыть_.
+
. Внесите нужные изменения.
. Сохраните изменения, нажав кнопку image:buttons/save.png[Дискета], и закройте карточку.
+
Если до конвертации в шаблон в разметке карточки были настроены обязательные для заполнения поля, после сохранения карточки в шаблон данные свойства будут проигнорированы.
